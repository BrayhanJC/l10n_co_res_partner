<?xml version="1.0" encoding="utf-8" ?>
<openerp>
    <data>
        <record id="view_partner_form" model="ir.ui.view">
           <field name="inherit_id" ref="base.view_partner_form" />
            <field name="model">res.partner</field>
            <field name="arch" type="xml">

                <field name="name" position="attributes">
                    <attribute name="invisible">True</attribute>
                </field>

                <field name="company_type" position="attributes">
                    <attribute name="invisible">True</attribute>
                </field>

                <field name="state_id" position="replace">
                    <field name="state_id" invisible="1"/>
                </field>

                <field name="city" position="replace">
                    <field name="city" invisible="1"/>
                </field>

                <field name="country_id" position="replace">
                    <field name="country_id" invisible="1"/>
                </field>

                <field name="company_type" position="after">
                    <field invisible="1"
                           name="company_type"
                           widget="radio"
                           class="oe_edit_only"
                           options="{'horizontal': true}"/>

                    <field name="is_company" class="oe_inline" modifiers="{}"/>
                    <label for="is_company" string="¿Es una empresa?"/>
                </field>

                <field name="parent_id" position="before">
                    <h3>
                        <field
                                name="name"
                                attrs="{'invisible':[('x_pn_nombre1', '=', ''),('companyName', '=', False)]}"
                                placeholder="¡Campo se llenará automáticamente!" />
                    </h3>
                </field>

                <field name="type" position="before">
                    <field name="personType"
                           attrs="{'readonly':[('company_type', '=', 'person')]}"/>
                    <field name="x_pn_tipoDocumento" />
                    <field name="x_pn_numeroDocumento" />
                    <field name="formatedNit"
                           attrs="{'invisible':[('x_pn_tipoDocumento', '!=', 31)]}"
                           readonly="1" />
                    <field name="dv" invisible="1" />
                    <field name="companyName"
                           attrs="{'invisible':['|',('personType', '=', 1),('company_type', '=', 'person')], 'required': [('personType', '=', 2)]}" />
                    <field name="x_pn_nombre1"
                           default_focus="1"
                           attrs="{'invisible':['|',('personType', '=', 2)], 'required': [('personType', '=', 1)]}" />
                    <field name="x_pn_nombre2"
                           attrs="{'invisible':['|',('personType', '=', 2)]}" />
                    <field name="x_pn_apellido1"
                           attrs="{'invisible':['|',('personType', '=', 2)], 'required': [('personType', '=', 1)]}" />
                    <field name="x_pn_apellido2"
                           attrs="{'invisible':['|',('personType', '=', 2)]}"  />
                    <field name="x_pn_retri" />
                    <field name="ciiu" domain="[('type', '=', 'other')]" />

                </field>
                <field name="country_id" position="after">
                    <field name="country_id" options='{"no_open": True, "no_create": True}' placeholder="País" on_change="onchange_location(country_id, False)" class="o_address_country" /> <!-- Country -->
                    <field name="state_id" options="{'no_open': True}" placeholder="Departamento" attrs="{'invisible':[('country_id', '=', False)], 'required': [('city', '!=', False)]}" on_change="onchange_location(False, state_id)" /> <!-- Department -->
                    <field name="city" options="{'no_open': True}" placeholder="Cuidad" attrs="{'invisible':[('state_id', '=', False)]}" />  <!-- City / Municipality -->
                </field>
            </field>
        </record>

        <record id="view_tree_res_partner_inherited" model="ir.ui.view">
            <field name="name">Partner – User extension</field>
                <field name="model">res.partner</field>
                <field name="inherit_id" ref="base.view_partner_tree"/>
                <field name="arch" type="xml">
                    <tree position="attributes">
                        <attribute name="colors">red:x_pn_numeroDocumento==False;red:x_pn_numeroDocumento==''</attribute>
                    </tree>
                <field name="phone" position="before">
                    <field name="x_pn_numeroDocumento" string="Identificación" />
                </field>
            </field>
        </record>

        <record id="view_search_res_partner_inherited" model="ir.ui.view">
            <field name="name">Search - extension</field>
                <field name="model">res.partner</field>
                <field name="inherit_id" ref="base.view_res_partner_filter"/>
                <field name="arch" type="xml">
                    <field name="name" position="replace">
                        <field name="name" filter_domain="['|',('display_name','ilike',self), ('x_pn_numeroDocumento','ilike',self)]" />
                    </field>
            </field>
        </record>

    </data>
</openerp>